# ============================================
# Database - Vendure Master
# ============================================
POSTGRES_MASTER_HOST=postgres-master
POSTGRES_MASTER_PORT=5432
POSTGRES_MASTER_DB=vendure_master
POSTGRES_MASTER_USER=vendure
POSTGRES_MASTER_PASSWORD=vendure_master_pass

# ============================================
# Database - Vendure Ecommerce
# ============================================
POSTGRES_ECOMMERCE_HOST=postgres-ecommerce
POSTGRES_ECOMMERCE_PORT=5432
POSTGRES_ECOMMERCE_DB=vendure_ecommerce
POSTGRES_ECOMMERCE_USER=vendure
POSTGRES_ECOMMERCE_PASSWORD=vendure_ecommerce_pass

# ============================================
# Redis
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis_pass

# ============================================
# Vendure Master
# ============================================
VENDURE_MASTER_PORT=3000
VENDURE_MASTER_ADMIN_PORT=3001
VENDURE_MASTER_API_URL=http://localhost:3000/shop-api
VENDURE_MASTER_ADMIN_URL=http://localhost:3001

# ============================================
# Vendure Ecommerce
# ============================================
VENDURE_ECOMMERCE_PORT=3002
VENDURE_ECOMMERCE_ADMIN_PORT=3003
VENDURE_ECOMMERCE_API_URL=http://localhost:3002/shop-api
VENDURE_ECOMMERCE_ADMIN_URL=http://localhost:3003

# ============================================
# n8n
# ============================================
N8N_PORT=5678
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin

# ============================================
# OpenSearch (HELK)
# ============================================
OPENSEARCH_PORT=9200
OPENSEARCH_DASHBOARD_PORT=5601
OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m

# ============================================
# Grafana
# ============================================
GRAFANA_PORT=3010
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ============================================
# Prometheus
# ============================================
PROMETHEUS_PORT=9090

# ============================================
# Uptime Kuma
# ============================================
UPTIME_KUMA_PORT=3011

# ============================================
# General
# ============================================
NODE_ENV=development
TZ=America/Santiago

# .env.example
# Entrepreneur OS - Environment Variables Template
# Copy to .env and update with real values

# ============================================
# GENERAL
# ============================================
NODE_ENV=development
TZ=Asia/Shanghai
PROJECT_NAME=entrepreneur-os
DOMAIN=entrepreneur-os.com

# ============================================
# TAILSCALE
# ============================================
TAILSCALE_AUTH_KEY=tskey-auth-xxxxxxxxxxxxx
TAILSCALE_ADVERTISE_ROUTES=172.17.0.0/16,172.18.0.0/16

# ============================================
# ANSIBLE
# ============================================
ANSIBLE_HOST_KEY_CHECKING=False
ANSIBLE_STDOUT_CALLBACK=yaml
ANSIBLE_RETRY_FILES_ENABLED=False

# ============================================
# DATABASES
# ============================================

# PostgreSQL - Vendure Master (DV02)
POSTGRES_MASTER_HOST=dv02
POSTGRES_MASTER_PORT=5432
POSTGRES_MASTER_DB=vendure_master
POSTGRES_MASTER_USER=vendure
POSTGRES_MASTER_PASSWORD=changeme_master_pass

# PostgreSQL - Vendure Ecommerce (DV04)
POSTGRES_ECOMMERCE_HOST=dv04
POSTGRES_ECOMMERCE_PORT=5433
POSTGRES_ECOMMERCE_DB=vendure_ecommerce
POSTGRES_ECOMMERCE_USER=vendure
POSTGRES_ECOMMERCE_PASSWORD=changeme_ecommerce_pass

# Redis
REDIS_HOST=dv02
REDIS_PORT=6379
REDIS_PASSWORD=changeme_redis_pass

# ============================================
# VENDURE MASTER (DV02)
# ============================================
VENDURE_MASTER_PORT=3000
VENDURE_MASTER_ADMIN_PORT=3001
VENDURE_MASTER_API_URL=http://localhost:3000/shop-api
VENDURE_MASTER_ADMIN_URL=http://localhost:3001
VENDURE_MASTER_COOKIE_SECRET=changeme_cookie_secret_master
VENDURE_MASTER_SUPERADMIN_USERNAME=superadmin
VENDURE_MASTER_SUPERADMIN_PASSWORD=changeme_superadmin_pass

# Database connection for Vendure Master
VENDURE_MASTER_DB_HOST=${POSTGRES_MASTER_HOST}
VENDURE_MASTER_DB_PORT=${POSTGRES_MASTER_PORT}
VENDURE_MASTER_DB_NAME=${POSTGRES_MASTER_DB}
VENDURE_MASTER_DB_USER=${POSTGRES_MASTER_USER}
VENDURE_MASTER_DB_PASSWORD=${POSTGRES_MASTER_PASSWORD}

# ============================================
# VENDURE ECOMMERCE (DV04)
# ============================================
VENDURE_ECOMMERCE_PORT=3002
VENDURE_ECOMMERCE_ADMIN_PORT=3003
VENDURE_ECOMMERCE_API_URL=http://localhost:3002/shop-api
VENDURE_ECOMMERCE_ADMIN_URL=http://localhost:3003
VENDURE_ECOMMERCE_COOKIE_SECRET=changeme_cookie_secret_ecommerce
VENDURE_ECOMMERCE_SUPERADMIN_USERNAME=superadmin
VENDURE_ECOMMERCE_SUPERADMIN_PASSWORD=changeme_superadmin_pass

# Database connection for Vendure Ecommerce
VENDURE_ECOMMERCE_DB_HOST=${POSTGRES_ECOMMERCE_HOST}
VENDURE_ECOMMERCE_DB_PORT=${POSTGRES_ECOMMERCE_PORT}
VENDURE_ECOMMERCE_DB_NAME=${POSTGRES_ECOMMERCE_DB}
VENDURE_ECOMMERCE_DB_USER=${POSTGRES_ECOMMERCE_USER}
VENDURE_ECOMMERCE_DB_PASSWORD=${POSTGRES_ECOMMERCE_PASSWORD}

# ============================================
# STOREFRONTS (DV04)
# ============================================

# Next.js Storefront
NEXT_PUBLIC_API_URL=http://localhost:3002/shop-api
NEXT_PUBLIC_STOREFRONT_URL=http://localhost:3010
NEXTJS_PORT=3010

# Vite Storefront
VITE_API_URL=http://localhost:3002/shop-api
VITE_STOREFRONT_URL=http://localhost:3011
VITE_PORT=3011

# ============================================
# n8n (DV04)
# ============================================
N8N_PORT=5678
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=changeme_n8n_pass
N8N_HOST=0.0.0.0
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
N8N_ENCRYPTION_KEY=changeme_encryption_key

# ============================================
# OPENSEARCH CLUSTER (DV05/DV06)
# ============================================
OPENSEARCH_CLUSTER_NAME=entrepreneur-os-logs
OPENSEARCH_VERSION=2.11.1
OPENSEARCH_PORT=9200
OPENSEARCH_DASHBOARD_PORT=5601
OPENSEARCH_JAVA_OPTS=-Xms2g -Xmx2g
OPENSEARCH_PASSWORD=changeme_opensearch_admin_pass
OPENSEARCH_INITIAL_ADMIN_PASSWORD=${OPENSEARCH_PASSWORD}

# OpenSearch Security
DISABLE_SECURITY_PLUGIN=false
OPENSEARCH_SSL_HTTP_ENABLED=true
OPENSEARCH_SSL_TRANSPORT_ENABLED=true

# ============================================
# VECTOR (Log Router)
# ============================================
VECTOR_LOG=info
VECTOR_REQUIRE_HEALTHY=true
VECTOR_API_ENABLED=true
VECTOR_API_ADDRESS=0.0.0.0:8686

# ============================================
# REDPANDA (Kafka Alternative)
# ============================================
REDPANDA_ADVERTISE_KAFKA_ADDR=redpanda:9092
REDPANDA_KAFKA_PORT=9092
REDPANDA_SCHEMA_REGISTRY_PORT=8081
REDPANDA_PANDAPROXY_PORT=8082
REDPANDA_ADMIN_PORT=9644

# ============================================
# GRAFANA (DV05)
# ============================================
GRAFANA_PORT=3010
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_grafana_pass
GRAFANA_SECRET_KEY=changeme_grafana_secret
GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_ADMIN_PASSWORD}
GF_INSTALL_PLUGINS=grafana-clock-panel,grafana-simple-json-datasource

# ============================================
# PROMETHEUS (DV05)
# ============================================
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_STORAGE_TSDB_PATH=/prometheus

# ============================================
# WAZUH (DV05)
# ============================================
WAZUH_MANAGER_PORT=1514
WAZUH_API_PORT=55000
WAZUH_DASHBOARD_PORT=443
WAZUH_PASSWORD=changeme_wazuh_pass
WAZUH_API_USER=wazuh
WAZUH_API_PASSWORD=changeme_wazuh_api_pass

# ============================================
# UPTIME KUMA (DV06)
# ============================================
UPTIME_KUMA_PORT=3011

# ============================================
# MINIO (S3 Storage - DV05)
# ============================================
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=changeme_minio_pass
MINIO_REGION=us-east-1
MINIO_BROWSER=on

# ============================================
# BITWARDEN (Secrets - DV05)
# ============================================
BITWARDEN_PORT=8080
BITWARDEN_ADMIN_TOKEN=changeme_bitwarden_admin_token
BITWARDEN_DOMAIN=https://vault.entrepreneur-os.com
BITWARDEN_SMTP_HOST=smtp.gmail.com
BITWARDEN_SMTP_PORT=587
BITWARDEN_SMTP_FROM=noreply@entrepreneur-os.com
BITWARDEN_SMTP_USERNAME=your-email@gmail.com
BITWARDEN_SMTP_PASSWORD=your-app-password

# ============================================
# BACKUP
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=/backups
RESTIC_REPOSITORY=s3:https://s3.amazonaws.com/your-bucket
RESTIC_PASSWORD=changeme_restic_password
AWS_ACCESS_KEY_ID=your-aws-key
AWS_SECRET_ACCESS_KEY=your-aws-secret

# ============================================
# EMAIL (Production)
# ============================================
EMAIL_FROM=noreply@entrepreneur-os.com
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password

# ============================================
# GATEWAY VPS (Digital Ocean)
# ============================================
GATEWAY_HOST=your-vps-ip
GATEWAY_SSH_PORT=22
GATEWAY_USER=root

# Nginx
NGINX_PORT=80
NGINX_SSL_PORT=443
NGINX_CLIENT_MAX_BODY_SIZE=100M

# Let's Encrypt
LETSENCRYPT_EMAIL=admin@entrepreneur-os.com
LETSENCRYPT_STAGING=false

# WireGuard
WIREGUARD_PORT=51820
WIREGUARD_ADDRESS=10.0.0.1/24

# ============================================
# CHINA SPECIFIC
# ============================================
USE_CHINA_MIRRORS=true
CHINA_MIRROR_URL=https://mirrors.tuna.tsinghua.edu.cn
NPM_REGISTRY=https://registry.npmmirror.com
PYPI_INDEX_URL=https://pypi.tuna.tsinghua.edu.cn/simple
DOCKER_MIRROR=https://registry.cn-hangzhou.aliyuncs.com

# ============================================
# MONITORING & ALERTS
# ============================================
ALERT_EMAIL=alerts@entrepreneur-os.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
ALERT_PAGERDUTY_KEY=your-pagerduty-key

# Health Check URLs
HEALTHCHECK_VENDURE_MASTER=${VENDURE_MASTER_API_URL}/health
HEALTHCHECK_VENDURE_ECOMMERCE=${VENDURE_ECOMMERCE_API_URL}/health
HEALTHCHECK_OPENSEARCH=http://localhost:9200/_cluster/health
HEALTHCHECK_GRAFANA=http://localhost:${GRAFANA_PORT}/api/health

# ============================================
# DEVELOPMENT
# ============================================
DEBUG=false
LOG_LEVEL=info
ENABLE_CORS=true
CORS_ORIGIN=http://localhost:3000,http://localhost:3002

# ============================================
# SECURITY
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=15m
JWT_SECRET=changeme_jwt_secret
JWT_EXPIRATION=7d
SESSION_SECRET=changeme_session_secret

# ============================================
# FEATURES FLAGS
# ============================================
FEATURE_ML_ENABLED=false
FEATURE_ANALYTICS_ENABLED=true
FEATURE_BACKUP_ENABLED=true
FEATURE_MONITORING_ENABLED=true
FEATURE_SECURITY_SCANNING=true

# ============================================
# TESTING
# ============================================
TEST_DATABASE_URL=postgresql://vendure:test@localhost:5432/vendure_test
TEST_REDIS_URL=redis://localhost:6379/1
ALLURE_RESULTS_DIR=./allure-results
PLAYWRIGHT_BROWSER=chromium